------------------------------------------------------------------------------
| D E V E L O P E M E N T  N O T E S                                         |
------------------------------------------------------------------------------
$Id: DEVELOPMENT.txt,v 1.8 2001/08/21 18:44:31 jon Exp $

            Below are some notes for doing development with Scarab.

------------------------------------------------------------------------------

Because Scarab uses a build->compile->run development framework, you should 
remember to always edit only the files in the src directory and not the 
target build directory.

Once you have edited a file in the src directory, you need to make sure to 
execute the ant script again. If you edit a .java source file, then you 
should execute [./ant compile]. If you edit any other file, then you 
only need to execute [./ant].

If, you make a change to a source file and you don't see that change 
reflected in what you are doing, make sure to read the note above. :-)

If you delete a src/java or src/template file you will need to delete the 
corresponding src files as well as any .class files from within the target tree 
and then re-compile. For example:

Delete:
scarab/src/java/org/tigris/scarab/screens/Foo.java
Also Delete:
scarab/target/webapps/scarab/WEB-INF/src/java/org/tigris/scarab/screens/Foo.java
scarab/target/webapps/scarab/WEB-INF/classes/org/tigris/scarab/screens/Foo.class

You can make the above procedure easier by simply removing the entire target 
tree and re-creating it. Next, you are going to ask why the source file is 
stored in the WEB-INF directory. The reason is because Ant allows us to do 
String replacement in the source files. So, at some point in the future, we 
will probably use this functionality to include a version number into one 
of the source files so that it is possible to see what version of Scarab 
is running. There are other reasons for doing this as well, but this is 
an easy example to explain. :-)

At any point, you should be able to build a fresh target tree. This means 
that you should be able to kill Tomcat, remove the target directory and 
re-execute the build.sh script.

If you make a change to a .java file and then recompile, you need to wait at 
least 3 seconds (this is configurable in Tomcat's server.xml file near the 
bottom) for the classloader to notice that the class has changed and
reload it. Currently, if you are logged in, it will probably log you back out
when this happens. We are working to resolve the issue.

To use Jikes as your compiler, add the following to your ~/build.properties 
file: build.compiler=jikes

------------------------------------------------------------------------------
