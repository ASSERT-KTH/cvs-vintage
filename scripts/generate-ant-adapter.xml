<?xml version="1.0" encoding="UTF-8"?>

<!-- build script to generate the antCompilerAdapter.jar file inside org.eclipse.jdt.core -->
<project name="Project" default="generate" basedir=".">
	<target name="generate">
		<property name="destdir" value="../." />
		<property name="classpath" value="D:/jdk1.4/jre/lib/rt.jar;${destdir}/bin/;${destdir}/../org.eclipse.core.runtime/runtime.jar" />
		
		<delete file="${destdir}/jdtCompilerAdapter.jar" />

       <java classname="org.eclipse.jdt.internal.compiler.batch.Main"
	       fork="yes" >
         <arg line="-noExit -classpath ../../org.apache.ant/ant.jar;${classpath} -d ${destdir}/antadapter ${destdir}/antadapter/JDTCompilerAdapter.java -g"/>
         <classpath>
           <pathelement path="${classpath}"/>
         </classpath>
       </java>
       
   		<jar 
			jarfile="${destdir}/jdtCompilerAdapter.jar"
			basedir="${destdir}/antadapter"
			includes="org/**" />

		 <delete dir="${destdir}/antadapter/org"/>
     </target>
</project>
