<html><head>
<META HTTP-EQUIV="KEYWORDS" CONTENT="struts validation validator validate java JSP servlet">
<META NAME="DESCRIPTION" CONTENT="Struts Validation Framework">
<title>Struts Validator</title>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="css/main_style.css">
</head>
<body>

  <table border=0 cellspacing=5 cellpadding=6 width="100%">
    <tr>
       <td colspan="2">
       <table border=0 cellpadding=4 cellspacing=0 width=100% bgcolor="0000AA"><tr><td>
          <table border=0 cellpadding=1 cellspacing=0 width=100% bgcolor=FFFFFF><tr width=100%><td>
             &nbsp;<font size=+3>Struts Validator</font>
             <BR>
             &nbsp;<font size=+1>Validation Framework for Struts</font>
          </td></tr></table>
       </td></tr></table>
</td>
    </tr>
    <tr valign="top">
       <td valign="top">
          <!-- Menu -->
          <table cellpadding=0 cellspacing=0 border=0 width="40">
             <tr bgcolor=eeeeee><td>
                <table cellpadding=3 cellspacing=1 border=0>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="index.html">Home</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="installation.html">Installation</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="overview.html">Overview</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="jsptags.html">JSP Tags</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="api">Javadoc</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="todolist.html">To Do List</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="revision.html">Revision Info</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="archive">Downloads</a></b></font></td></tr>
                   <tr><td align="center" bgcolor=#FFFFFF><font size=-1>
	              <b><a href="contact.html">Contact Information</a></b></font></td></tr>
                </table>
             </td></tr>
          </table>
          <!-- / Menu -->
       </td>
       <!-- Body -->
       <td valign="top">
          <H2>Revision Info</H2>
	   <font size=-1>Update 1/14/2002</font><BR>
	   <ul>
	      <li>Upgraded to use Commons Validator (http://jakarta.apache.org/commons).</li>
              <li>Packages changed to fall under org.apache.struts.validator.</li>
              <li>Documentation updated</li>
              <li>Custom JSP Tags except for JavascriptValidatorTag have been removed.</li>
              <li>GenericAction class and JDBC example have been removed.</li>
              <li>
                  Added config-rules parameter to the ValidatorServlet so validation rules 
                  could be stored in a separate xml file.  The config parameter file 
                  can still contain rules.  The file specified by config-rules will be loaded 
                  first so the file specified by config can define or override any validator 
                  elements necessary.
              </li>
	   </ul>
	   <font size=-1>Update 10/18/2001 (using Struts 10/18/2001 source)</font><BR>
	   <ul>
	      <li>The last change that added indexed properties broke all locales except for 
	          the default locale.  The Field wasn't processed yet when the locale field 
	          genration occurred and was returning a null key value.
	      </li>
              <li>Added a check so JavascriptValidatorTag won't generate indexed properties.</li>
              <li>Changed Javascript to validate for a type of 'select-one' instead of 'select'.  
                  Javascript returns 'select-one' for a field's type value.
              </li>
              <li>Added min and max functions.</li>
              <li>Removed code from Validator retrieving the value to be validated.  It wasn't being used and 
                  this way as long as you specify a unique name for a field a custom validator that isn't specifically 
                  tied to a field won't generate an error in the logs.
              </li>
              <li>The web apps were changed to use html:messages and logic:messagesPresent 
                  for error messages.
              </li>
	   </ul>
	   <font size=-1>Update 9/25/2001 (using Struts 9/25/2001 source)</font><BR>
	   <ul>
              <li>Upgraded to commons packages for Bean Utils, Collections, and the Digester.</li>
              <li>Modified build.xml and build.properties.</li>
              <li>A jsFunctionName attribute was added to the validator element so you could specify 
                  a function/object name to be used when the JavascriptValidatorTag generates the 
                  dynamic JavaScript.  Netscape seemed to assume validators like float were keywords.  
                  If another function/object name was used, everything worked fine in Netscape.
              </li>
              <li>Basic indexed validation capablities have been added for use with 'indexed="true"' 
                  capablilities of the html form tags.<br>
                  <br>
                  I haven't had time to add this to an example, but below is a sample usage.<br>
                  <br>
                  &nbsp;&nbsp;&nbsp; &lt;logic:iterate id="listElement" name="registrationForm" property="listElementList" indexId="index"&gt;<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;html:textarea indexed="true" name="listElement" property="value" cols="60" rows="8"/&gt;&lt;br&gt;<br>
                  &nbsp;&nbsp;&nbsp; &lt;/logic:iterate&gt;<br>
                  <br>
                  &nbsp;&nbsp;&nbsp; &lt;field property="value"<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; indexedProperty="listElement"<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; indexedListProperty="listElementList"<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; depends="required"&gt;<br>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;arg0 key="registrationForm.paragraph.displayname"/&gt;<br>
                  &nbsp;&nbsp;&nbsp; &lt;/field&gt;
              </li>
	   </ul>
	  <font size=-1>Update 7/2/2001 (using Struts 1.0)</font><BR>
	  <ul>
             <li>Only the fields that are different from the default FormSet need to be 
                 added to the FormSet of another locale.  A complete list of fields 
                 will be generated for each locale based on the default FormSet.  As 
                 the complete list of fields is generated, the list will be built 
                 with the fields that are the closest match for the locale of the FormSet.  
                 If the language is 'fr' and country is 'CA', then if the field doesn't exist 
                 under 'fr_CA' it will be looked for under 'fr' and then it will use the 
                 default locale.  If you are using a variable, replacement won't occur 
                 until after the complete field list for each locale is generated.  This 
                 needs more testing, but seems functional.
             </li>
	     <li>Changed all StrutsValidator methods (except validateRequired) to only 
	         perform validation if there is something other than a space entered.  
	         This way if you want to removed the depends="required" from a validator, 
	         the user will receive an error message once once something is entered 
	         in a field along with any fields that are still required.
	     </li>
	     <li>The required JavaScript function now also checks for select and radio fields.</li>
	  </ul>
	  <font size=-1>Update 6/30/2001 (using Struts 1.0)</font><BR>
	  <ul>
	     <li>Fixed a bug in the behavior of the mask validator 
	         (caused by the source changes from 6/24/2001).
	     </li>
	     <li>Removed a check for 'required' from the Valiator so it wouldn't 
	         automatically skip the rest of the validations if the field was 
	         required, but not filled in.  The behavior should rely on the 
	         dependencies of a validator instead.
	     </li>
	     <li>The JavaScript for the pluggable validators is now an element.  
	         So the JavaScript can now be put in CDATA so XML sensitive characters 
	         do not need to be escaped.
	     </li>
	     <li>The Var for the pluggable validators is now an element with subelements.  
	         So the var-value can now be put in CDATA so XML sensitive characters 
	         do not need to be escaped.
	     </li>
	  </ul>
	  <font size=-1>Update 6/24/2001 (using Struts 1.0)</font><BR>
	  <ul>
	     <li>Restructured the source so validations can be run in other frameworks 
	         than Struts. You can specify the method signature using the 
	         methodParams attribute of the validator element and putting in a 
	         comma delimited list of class names.  Then a Map is populated using 
	         the class name as the key and the value is the instance of the class 
	         to be used during validation.  Everything should be transparent to 
	         users of a recent release.
	     </li>
	     <li>ValidationResources was renamed to ValidatorResources for consistent naming.</li>
	     <li>Added two simple unit tests using Cactus.</li>
	     <li>Added JavaScript validations for byte, short, int, and float.</li>
	  </ul>
	  <font size=-1>Update 6/22/2001 (using Struts 1.0)</font><BR>
	  <ul>
	     <li>Added dynamicJavascript and staticJavascript attributes to the JavascriptValidatorTag 
	         so you can create just the dynamic JavaScript for page validation and reference another 
	         page for the static JavaScript to take advantage of browser caching (to see a working 
	         example look at the jsType.jsp in the main example webapp).
	     </li>
	  </ul>
	  <font size=-1>Update 6/20/2001 (using Struts 1.0)</font><BR>
	  <ul>
	     <li>Added the beginnings of a basic JavaScript date validation.  
	         Currently works if a datePatternStrict variable is created.  
	         It does an exact match like the server side method if 
	         datePatternStrict is specified.  It currently only can handle 
	         the following order of fields (month, day, year), 
	         (day, month, year), and (year, month, day).  Only a two digit 
	         month, two digit day, and a four digit year.  Each can be 
	         separated by a delimeter or not.  The following would be 
	         valid MM/dd/yyyy, MM-dd-yyyy, dd.MM.yyyy, yyyyMMdd, etc.
	     </li>
	     <li>Fixed i18n bug generating JavaScript error messages.</li>
	  </ul>
	  <font size=-1>Update 6/17/2001 (using Struts 1.0)</font><BR>
	  <ul>
	     <li>A bCancel variable was added to the JavascriptValidatorTag code 
	         generation so the onclick attribute of the html:cancel tag can 
	         be assigned "bCancel=true;" so the JavaScript validation isn't 
	         performed and the onclick attribute of a html:submit tag can 
	         be assigned "bCancel=false;".
	     </li>
	     <li>Added a client and server side credit card validation donated 
	         by Ted Husted and based a script Sean M. Burke wrote.
	     </li>
	     <li>Added a client and server side email validation based on a 
	         script by Sandeep V. Tamhankar.
	     </li>
	     <li>The date validation has been changed to use DateFormat and 
	         SimpleDateFormat and is configurable with the "datePattern" 
	         and "datePatternStrict" variables.
	     </li>
	     <li>All JavaScript methods now set the focus to the first field 
	         that failed validation.
	     </li>
	  </ul>
	  <font size=-1>Update 6/11/2001 (using Struts 1.0 beta 3 build)</font><BR>
	  <ul>
	     <li>The Var class has had a JavaScript Type field added to it to control the type of the variable 
	         when the JavaScript is auto-generated.  The types are int, string, and regexp.  If 
	         the jsType attribute is not specified in the XML file it will default to a String 
	         and I've made it still recognize the 'mask' variable that the mask pluggable validator 
	         uses so <i>jsType="regexp"</i> does not explicitly have to be added for now.  In Field 
	         the getVar method returns a Var and getVarValue returns the value in case anyone has 
	         written their own validation routine using variables.
	     </li>
             <li>Changed load-on-startup in the web.xml to for the ActionServlet to 1 in both examples.  
                 It causes an error in the Orion server 1.5.2 if two servlets have the same 
                 load-on-startup value.
             </li>
	     <li>The ValidatorServlet's debug level is set on ValidationResources to control whether it 
	         prints debug info to standard out.
	     </li>
	  </ul>      
          <font size=-1>Update 5/10/2001 (using Struts 4/24/2001 build)</font><BR>
          <ul>
             <li>Javascript objects used for validation are now adding the Field's var elements to this object 
                 so it is possible to do basic client side validations with variables.  All of this needs more 
                 testing, but everything seems functional.  Currently all vars are being created as Strings 
                 except if it sees that the var name is 'mask', but I will add a jsType to the var element so 
                 you can specify if it is a int, String, or RegExp in Javascript.
             </li>
             <li>Created Javascript method for the range pluggable validator.  It currently isn't 
                 used in an example, but was tested.
             </li>
          </ul>
          <font size=-1>Update 5/7/2001 (using Struts 4/24/2001 build)</font><BR>
          <ul>
             <li>Major change in the way message resource arguments are handled.  The new way is much more flexible than just 
                 automatically passing in the displayname attribute.  The Field's displayname attribute has been removed.  
                 The arg element should be used instead.
             </li>
             <li>The attributes delim, displayname, mask, maskmsg, and vars were removed from the Field element.  
                 The msg, arg0-arg4, and vars elements should be used instead.  Mask has been changed to use 
                 the var element.
             </li>
             <li>Added the build scripts for Cactus Unit Testing and a simple test.</li>
          </ul>
          <font size=-1>Last Updated 4/24/2001 (using Struts 4/24/2001 build)</font><BR>
          <ul>
             <li>Fixed server side validation to handle nested and indexed properties.</li>
             <li>Fixed client side Javascript validation to handle nested and indexed properties.  
                 (The auto-generated Javascript couldn't handle periods and brackets in the property names.)
             </li>
             <li>Modified the basic example WAR to use nested properties for city and state and the zip uses a nested 
                 property with an array.
             </li>
          </ul>
          <font size=-1>Update 4/20/2001 (using Struts 3/22/2001 build)</font><BR>
          <ul>
             <li>Added a method attribute to the JavascriptValidatorTag so you can specify a method name other 
                 than the one generated from the form name.  (ex: If the form name is com.wintecinc.Registration, this 
                 will create an invalid Javascript method (validateCom.wintecinc.Registration)).
             </li>
          </ul>
          <font size=-1>Update 4/10/2001 (using Struts 3/22/2001 build)</font><BR>
          <ul>
             <li>Made a var element to replace the vars attribute in a field.  The associated vars methods and variables have 
                 been deprecated and will be removed in the future.  Once var elements are used the vars attribute will no 
                 longer be parsed.
             </li>
             <li>Updated class files to all have the Apache License at the top.</li>
          </ul>
          <font size=-1>Update 3/22/2001 (using Struts 3/22/2001 build)</font><BR>
          <ul>
             <li>Added a message tag and all equivalent classes that the errors tag has.  
                 It is for general messages upon completions of actions.</li>
             <li>Added a GenericAction and GenericForm to handle similiar form actions for 
                 forms that save and retrieve data to persistent storage, such as a database.
             </li>
             <li>Added a web app that uses JDBC to save and retrieve the form data.  The sql script 
                 for the table is in the sql directory.  The data source for the connection pool defined 
                 at the top of the struts-config.xml will need to be modified to use the database you 
                 create the table in.
             </li>
             <li>Reorganized directory structures of the source code, JSPs, and configuration files 
                 to support multiple web applications.  Modified Ant build script to handle the changes. 
             </li>
          </ul>
          <font size=-1>Update 3/19/2001 (using Struts 3/6/2001 build)</font><BR>
          <ul>
             <li>Finished errors tag that iterates through the error messages.  It should 
                 have all the functionality of the Struts Error Tag now.
             </li>
             <li>Created an errors exists tag.  If there are error messages, it will display 
                 whatever is in it's body.
             </li>
          </ul>
          <font size=-1>Update 3/18/2001 (using Struts 3/6/2001 build)</font><BR>
          <ul>
             <li>Added javascript to the pluggable validators.</li>
             <li>Enhanced JavascriptValidatorTag to use the javascript method defined in 
                 the pluggable validator.
             </li>
             <li>Created errors tag that iterates through the error messages so HTML 
                 formatting could be removed from the message resource error messages.
             </li>
          </ul>
          <font size=-1>Update 3/15/2001 (using Struts 3/6/2001 build)</font><BR>
          <ul>
             <li>Caching of objects for pluggable validators.  As a ValidatorAction is added 
                 to the ValidationResources, an instance of the class is stored in the 
                 ValidatorAction.
             </li>
             <li>Set validate="true" in struts-config.xml for registration form and type form 
                 to simplify example.
             </li>
          </ul>
          <font size=-1>Update 3/7/2001 (using Struts 3/6/2001 build)</font><BR>
          <ul>
             <li>Made JavascriptValidatorTag generate Javascript that also checks password fields.</li>
             <li>Location of validation.xml is now configurable in the web.xml file.</li>
             <li>Added a range example using the field's vars attribute for min and max to the 
                 type form's integer field in the example web app.
             </li>
             <li>Finished basic comments for javadoc.</li>
          </ul>
          <font size=-1>Update 3/5/2001 (using Struts 2/16/2001 build)</font><BR>
          <ul>
             <li>Fixed a problem loading the validation.xml file in Tomcat 4.0.</li>
             <li>Changed the interface for the pluggable validator.  
                 This should be close to the final interface.  I'm now passing in the request 
                 and application context instead of passing in the scope objects you might want.
             </li>
          </ul>
          <font size=-1>Update 3/2/2001 (using Struts 2/16/2001 build)</font><BR>
          <ul>
             <li>Change package names to start with com.wintecinc from org.apache 
                 (was originally packaged this way as part of a contribution to struts).
             </li>
             <li>Added a vars attribute to Field to store data for a pluggable validator.</li>
          </ul>
          <font size=-1>Update 3/1/2001 (using Struts 2/16/2001 build)</font><BR>
          <ul>
             <li>Changed interface to dynamically called validation methods to pass the entire 
                 form object so someone can compare the current field to others.
             </li>
             <li>Worked on sort for dependencies.  It works for basic dependencies, but it needs work.</li>
             <li>Required method removed from field class (not in use).</li>
          </ul>
          <font size=-1>Update 2/25/2001</font><BR>
          <ul>
             <li>Global and FormSet/Locale Constants</li>
             <li>Pluggable validators (needs more testing)</li>
          </ul>
          <font size=-1>Update 2/22/2001 (Version 0.5)<BR>
          &nbsp;&nbsp;&nbsp; Version 0.5 has a couple of bug fixes compared to the actual 2/22 release.</font><BR>
          <ul>
             <li>Full Locale Support</li>
          </ul>
          <font size=-1>Update 2/14/2001</font><BR>
          <ul>
             <li>Multiple Page Form Support Added</li>
             <li>Client Side Javascript Validation Tag</li>
          </ul>
       </td>
       <!-- / Body -->
    </tr>
  </table>
  
  
</body></html>

