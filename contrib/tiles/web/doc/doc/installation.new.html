
<body>
  <a name="Prerequisites"></a>
  <table border="0" cellspacing="5" cellpadding="5" width="100%">
    <tr>
      <td bgcolor="#023264">
        <font color="#ffffff" face="arial,helvetica,sanserif" size="+1">
          <strong>
            Prerequisite Software
          </strong>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <blockquote>
        <P><STRONG>Copyright </STRONG>: This page is largely inspired from the 
        original <A href="http://www.apache.com/struts/installation.html">Struts 
        installation page</A>. For those familiar with Struts, there is nothing 
        really new.</P>
        <P>
            In order to build a Components source distribution, or install and use a   Components binary distribution, you will need to acquire and install several   other software packages, as follows:
            <br></P>
          <ul>
            <li>
              <strong>
                Java Development Kit
              </strong>
              - You must download and install       a Java2 (version 1.2 or later) Java Development Kit implementation for       your operating system platform.       A good starting point for locating Java Development Kit distributions is
              <a href="http://java.sun.com/j2se">http://java.sun.com/j2se</a>
.
              <li>
                <strong>
                  Servlet Container
                </strong>
                - You must download and install a       servlet container that is compatible with the Servlet API Specification,       version 2.2 or later, and the JavaServer Pages (JSP) Specification,       version 1.1 or later.  One popular choice is to download Apache's
                <a href="http://jakarta.apache.org/tomcat">Tomcat</a>
(version 3.1       or later required, version 3.2 or later recommended).
                <li>
                  <strong>
                    Ant Build System
                  </strong>
                  - If you are building Components from the       source distribution, you must download and install version 1.2 or later       of the
                  <a href="http://jakarta.apache.org/ant">Ant</a>
build system.       This package is also strongly recommended for use in developing your       own web applications based on Struts.
                  <ul>
                    <li>
                      If you are using the release version of Ant version 1.2, you will           also need to download the "optional.jar" file that contains the           implementation of Ant's
                      <code>
                        &lt;style&gt;
                      </code>command.</li>
                      
                  </ul>
                  <li>
                    <strong>
                      Servlet API Classes
                    </strong>
                    - In order to compile Components itself,       or applications that use Components, you will need a
                    <code>
                      servlet.jar
                    </code>
                    file containing the Servlet and JSP API classes.  Most servlet containers       include this JAR file.  Otherwise, you can get the Servlet API classes       distribution from
                    <a href="http://jakarta.apache.org/builds/jakarta-servletapi">here</a>
.&nbsp;&nbsp;
                      <li>
                        <strong>
                          XML Parser
                        </strong>
                        - Components requires the presence of an XML       parser that is compatible with the Java API for XML Parsing (JAXP)       specification, 1.0 or later.  You can download and install the JAXP
                        <a href="http://java.sun.com/xml">reference implementation</a>
,       which is required for building the Components source distribution.  In       Struts-based web applications, you may replace the reference       implementation classes with any other JAXP compliant parser, such as
                        <a href="http://xml.apache.org/xerces-j">Xerces</a>
.  See detailed       instructions related to the parser in the instructions for
                        <A href="#Building">building</A>
and
                        <A href="#Installing">installing</A>
Components, below.
                        <li>
                          <strong>
                            Xalan XSLT Processor
                          </strong>
                          - If you are building Components from       the source distribution, you must download and install version 1.2       (problems have been reported with current versions of Xalan 2.0)       of the
                          <a href="http://xml.apache.org/xalan">Xalan</a> XSLT 
          processor (which also includes the Xerces XML parser), or use the 
          version of Xalan included in the JAXP 1.1 release. This processor is 
          used to convert the Components documentation from its internal 
          XML-based format into the HTML that is presented in the Components 
          documentation application.</li>
                                                                      
          </ul>
        </blockquote>
      </td>
    </tr>
  </table>
  <a name="Building"></a>
  <table border="0" cellspacing="5" cellpadding="5" width="100%">
    <tr>
      <td bgcolor="#023264">
        <font color="#ffffff" face="arial,helvetica,sanserif" size="+1">
          <strong>
            Building Components From Source
          </strong>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <blockquote>
          <p>
            First, download a source distribution of Components by following the     instructions
            <A href="index.html#Acquiring">here</A>
.  Then, make sure     you have downloaded and installed all of the
            <A href="#Prerequisites">prerequisite</A>
software packages described     above.
            <br>
          </p>
          <p>
            To build Components, you will need to customize your development     environment as follows:
            <br>
          </p>
          <ul>
            <li>
              Set an environment variable
              <code>
                ANT_HOME
              </code>
              that contains the         absolute pathname of the directory where you installed Ant.
              <li>
                Set an environment variable
                <code>
                  JAVA_HOME
                </code>
                that contains the         absolute pathname of the directory where you installed your         Java Development Kit.
                <li>
                  Set an environment variable
                  <code>
                    SERVLETAPI_HOME
                  </code>
                  that contains         the absolute pathname of the directory where you installed the Servlet         API distribution (not required if you have
                  <code>
                    servlet.jar
                  </code>on your CLASSPATH already).</li>
                     
          </ul>
          <p>
            To build a "distribution" version of Components, first change your current     directory to the directory in which you have unpacked the Components     source distribution, and then type one of the following commands (based     on whether you are running on a Unix or Windows platform):
            <br>
          </p>
          <pre>
            ./build.sh dist    &lt;-- Unix platform
            build dist         &lt;-- Windows platform
          </pre>
          <p>
            This command will create a binary distribution of Components, in a     directory named
            <code>
              dist
            </code>
            (relative to where you     are compiling from).  This directory contains an exact replica of the     files included in a binary distribution of Components, as described     in the following section.
            <br>
          </p>
        </blockquote>
      </td>
    </tr>
  </table>
  <a name="Installing"></a>
  <table border="0" cellspacing="5" cellpadding="5" width="100%">
    <tr>
      <td bgcolor="#023264">
        <font color="#ffffff" face="arial,helvetica,sanserif" size="+1">
          <strong>
            Install A Components Binary Distribution
          </strong>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <blockquote>
          <p>
            First, download a binary distribution of Components by following the     instructions
            <A href="download.jsp">here</A>
.  Then, make sure     you have downloaded and installed all of the
            <A href="#Prerequisites">prerequisite</A>
software packages described     above.
            <br>
          </p>
          <p>
            Unpack the Components binary distribution into a convenient directory.     (If you build Components from the source distribution, the result of the     build will already be an unpacked binary distribution for you).  The     distribution consists of the following contents:
            <br>
          </p>
          <ul>
            <li>
              <strong>
                lib/components.jar
              </strong>
              - This JAR file contains all of the         Java classes included in Components.  It should be copied into the
              <code>
                WEB-INF/lib
              </code>
              directory of your web application.
              <li>
                <strong>
                  lib/tiles.tld
                </strong>
                - This is the "tag library         descriptor" file that describe the custom tags in the various Components         tag libraries.  They should be copied into the
                <code>
                  WEB-INF
                </code>
                directory of your web application.
                <li>
                  <strong>
                    webapps/comps-doc.war
                  </strong>
                  - This is a         "web application archive" file containing all of the Components         documentation found on the
                  <a href="http://www.lifl.fr/~dumoulin/components" 
         >Components web site</a>
(including these pages).  You can install this web application         on any servlet container compatible with Servlet API 2.2 or later.
                  <li>
                    <strong>
                      webapps/comps-tutorial.war
                    </strong>  - 
                    This is examples from the         Components tutorial that uses a large percentage of Components features.         You can install this web application on any servlet container         compatible with the Servlet 2.2 (or later) and JSP 1.1 (or later)         specifications.
                    <li>
                      <strong>
                        webapps/comps-template.war
                      </strong>- This web 
          application both introduces and demonstrates the Components template 
          tags.&nbsp;&nbsp;This is the original Struts template application 
          revisited with Components.</li>
                                                
          </ul>
          <p>
            To use Components in your own application, you will need to follow     these steps:
            <br>
          </p>
          <ul>
            <li>
              Install Struts library.
            <li>
              Copy the file
              <code>
                lib/components.jar
              </code>
              from the Components distribution         into the
              <code>
                WEB-INF/lib
              </code>directory of your web application.</li>
            <li>
                   Copy the file that match
                <code>
                  lib/tiles.tld
                </code>
                from the Components distribution into the
                <code>
                  WEB-INF
                </code>directory of your web application. 
            <li>
              Copy the file
              <code>
                struts.jar
              </code>
              from the Struts distribution         into the
              <code>
                WEB-INF/lib
              </code>directory of 
          your web application.</li>
            <li>
                   Copy the file that match
                <code>
                  struts-*.tld
                </code>
                from the Struts distribution into the
                <code>
                  WEB-INF
                </code>directory of your 
          web application.</li>
                            
                <li>
                  Modify the
                  <code>
                    WEB-INF/web.xml
                  </code>
                  file for your web application         to include a
                  <code>
                    &lt;servlet&gt;
                  </code>
                  element to define the         controller servlet, and a
                  <code>
                    &lt;servlet-mapping&gt;
                  </code>
                  element         to establish which request URIs are mapped to this servlet.  Use the
                  <code>
                    WEB-INF/web.xml
                  </code>
                  file from the Components tutorial application         for a detailed example of the required syntax.
                  <li>
                    Modify the
                    <code>
                      WEB-INF/web.xml
                    </code>file of your web 
          application to include the following tag library declarations:</li>
                                       
          </ul>
          <pre>
            &lt;taglib&gt;
            &lt;taglib-uri&gt;/WEB-INF/struts-bean.tld&lt;/taglib-uri&gt;
            &lt;taglib-location&gt;/WEB-INF/struts-bean.tld&lt;/taglib-location&gt;
            &lt;/taglib&gt;
            
            &lt;taglib&gt;
            &lt;taglib-uri&gt;/WEB-INF/struts-form.tld&lt;/taglib-uri&gt;
            &lt;taglib-location&gt;/WEB-INF/struts-form.tld&lt;/taglib-location&gt;
            &lt;/taglib&gt;
            
            &lt;taglib&gt;
            &lt;taglib-uri&gt;/WEB-INF/struts-logic.tld&lt;/taglib-uri&gt;
            &lt;taglib-location&gt;/WEB-INF/struts-logic.tld&lt;/taglib-location&gt;
            &lt;/taglib&gt;
            
            &lt;taglib&gt;
            &lt;taglib-uri&gt;/WEB-INF/tiles.tld&lt;/taglib-uri&gt;
            &lt;taglib-location&gt;/WEB-INF/tiles.tld&lt;/taglib-location&gt;
            &lt;/taglib&gt;
          </pre>
          <ul>
          <LI>If you want to use <EM>centralized 
          definitions</EM>, use the modified version of 
          <EM>ActionServlet</EM> , by adding following lines in the 
          <CODE>WEB-INF/web.xml </CODE>file : 
          <CODE><BR>&lt;servlet&gt;<BR>&nbsp;&nbsp;&nbsp; 
          &lt;servlet-name&gt;action&lt;/servlet-name&gt;<BR>&nbsp;&nbsp;&nbsp; 
          &lt;servlet-class&gt;org.apache.struts.tiles.ActionComponentServlet&lt;/servlet-class<BR>&nbsp;&nbsp;&nbsp; 
          &lt;init-param&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
          &lt;param-name&gt;instances-config&lt;/param-name&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
          &lt;param-value&gt;/WEB-INF/componentInstances.xml&lt;/param-value&gt;<BR>&nbsp;&nbsp;&nbsp; 
          &lt;/init-param&gt;<BR>...<BR>&nbsp;</CODE></LI><I></I> 
          <LI>If you use <EM><EM>centralized definitions</EM></EM> , but don't want to use modified 
          servlet, you must initialize instances list, either in your own 
          servlet (see ComponentActionServlet.java) or at begining of page (see 
          tags). 
          <LI>If you use <EM><EM>centralized definitions</EM></EM> ,
              create a file
              <code>
                WEB-INF/templateDefinitions.xml
              </code>
                           that defines the instances of your Components.         You can use the
              <code>
                templateDefinitions.xml
              </code>
              file from the Components         tutorial application for a detailed example of the required syntax.
              <li>At the top of each JSP page that will use the 
          Components custom tags, add line(s) declaring the Components custom 
          tag libraries used on this particular page, like this: 
          <pre>&lt;@ taglib uri="/WEB-INF/tiles.tld" prefix="comps" %&gt;</pre>
		  <li>       If you want to 
          use Components library in place of templates library, you 
          can do this by replacing previous line by this: 
          <pre>&lt;@ taglib uri="/WEB-INF/tiles.tld" prefix="template" %&gt;</pre>
          <LI>
              When compiling the Java classes that comprise your application, be sure         to include the
              <code>
                components.jar
              </code>file (copied earlier) on the CLASSPATH that is submitted to the 
          compiler. </LI>
                                 
          </ul>
        <UL></UL>
        </blockquote>
      </td>
    </tr>
  </table>
  <a name="Containers"></a>
  <table border="0" cellspacing="5" cellpadding="5" width="100%">
    <tr>
      <td bgcolor="#023264">
        <font color="#ffffff" face="arial,helvetica,sanserif" size="+1">
          <strong>
            Installing Components with your servlet container
          </strong>
        </font>
      </td>
    </tr>
    <tr>
      <td>
        <blockquote>
          <p>
            For most containers, you need only to:
            <br>
          </p>
          <ul>
            <li>
              Copy the WAR files in your Components
              <code>
                /webapp
              </code>
              directory to your      containers
              <code>
                webapps
              </code>
              directory.
              <li>
                In some cases, you may need to restart your 
          container if it is running.</li>
                             
          </ul>
          <h3>
            Status of various containers
          </h3>
          <ul>
            <li>
              Tomcat 3.1 and prior - Not recommended. Use Tomcat 3.2.1 or later.
              <li>
                Tomcat 3.2.1+ "standalone" - No additional steps required.
                <li>
                  Resin 2.1+ "standalone" - No additional steps required.
                  <li>
                    WebLogic 6.0+ - No additional steps required.</li>
                          
          </ul>
          <ul>
            <li>
              Bluestone Universal Business Server -
              <A href="http://www.apache.com/struts/installation-ubs.html">Additional steps required, see struts pages.</A>
              <li>
                JRUN -
                <A href="http://www.apache.com/struts/installation-jrun.html">Additional steps required, see struts pages.</A>
                <li>
                  Orion Application Server -
                  <A href="http://www.apache.com/struts/installation-oas.html">Additional steps required, see struts pages.</A>
                  <li>
                    Silverstream - -
                    <A href="http://www.apache.com/struts/installation-sas.html">Additional steps required, see struts pages.</A>
                    <li>
                      Tomcat 3.2.1 with Apache -
                      <A href="http://www.apache.com/struts/installation-tc.html">Additional steps required, see struts pages.</A>
                      <li>
                        Weblogic 5.1 (sp8) -
                        <A href="http://www.apache.com/struts/installation-wls.html">Additional steps required, see struts pages.</A>
                        <li>
                          WebSphere -
                          <A href="http://www.apache.com/struts/installation-was.html">Additional steps required, see struts pages.</A></li>
          </ul>
        </blockquote>
      </td>
    </tr>
  </table>
</body>
