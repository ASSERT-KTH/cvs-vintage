<pipeline>
  <name>DefaultScarabPipeline</name>
  <valves>

    <valve className="org.tigris.scarab.pipeline.TimingInfoValve"/>
    <valve className="org.tigris.scarab.pipeline.DetermineCharsetValve"/>

    <!-- reset the cache in the event an exception prevented it at the end -->
    <valve className="org.tigris.scarab.pipeline.ResetCacheValve"/>
    <valve className="org.tigris.scarab.pipeline.SetInfoMessageValve"/>

    <!-- the following is a copy of conf/turbine-classic-pipeline -->
    <valve className="org.apache.turbine.pipeline.DetermineActionValve"/>
    <valve className="org.tigris.scarab.pipeline.DetermineTargetValve"/>
    <valve className="org.apache.turbine.pipeline.DefaultSessionTimeoutValve"/>
    <valve className="org.apache.turbine.pipeline.DefaultLoginValve"/>
    <valve className="org.apache.turbine.pipeline.DefaultSessionValidationValve"/>
    <!-- This one valve is in addition to the standard pipeline -->
    <valve className="org.tigris.scarab.pipeline.FreshenUserValve"/>
    <valve className="org.tigris.scarab.pipeline.SetModuleDomainInfoValve"/>
    <valve className="org.apache.turbine.pipeline.DefaultACLCreationValve"/>
    <valve className="org.apache.turbine.pipeline.DefaultActionValve"/>
    <valve className="org.apache.turbine.pipeline.RunModulesValve"/>
    <valve className="org.apache.turbine.pipeline.DirectTargetValve"/>
    <valve className="org.apache.turbine.pipeline.CleanUpValve"/>

    <!-- reset the cache as soon as we are done with the pipeline -->
    <valve className="org.tigris.scarab.pipeline.ResetCacheValve"/>
    <valve className="org.tigris.scarab.pipeline.TimingInfoValve"/>

  </valves>
</pipeline>
