package org.tigris.scarab.om.map;

// JDK classes
import java.util.*;
import java.math.*;

// Turbine classes
import org.apache.turbine.services.db.PoolBrokerService;
import org.apache.turbine.services.db.TurbineDB;
import org.apache.turbine.util.db.map.MapBuilder;
import org.apache.turbine.util.db.map.DatabaseMap;
import org.apache.turbine.util.db.map.TableMap;

/**
  *  This class was autogenerated by Torque on: 
  *
  * [Wed Feb 28 16:36:26 PST 2001]
  *
  */
public class ModuleMapBuilder implements MapBuilder
{
    /** the name of this class */
    public static final String CLASS_NAME = "org.tigris.scarab.om.map.ModuleMapBuilder";

    /** item */
    public static String getTable( )
    {
        return "SCARAB_MODULE";
    }


    /** SCARAB_MODULE.MODULE_ID */
    public static String getModule_ModuleId()
    {
        return getTable() + ".MODULE_ID";
    }

    /** SCARAB_MODULE.MODULE_NAME */
    public static String getModule_Name()
    {
        return getTable() + ".MODULE_NAME";
    }

    /** SCARAB_MODULE.MODULE_DESCRIPTION */
    public static String getModule_Description()
    {
        return getTable() + ".MODULE_DESCRIPTION";
    }

    /** SCARAB_MODULE.MODULE_URL */
    public static String getModule_Url()
    {
        return getTable() + ".MODULE_URL";
    }

    /** SCARAB_MODULE.PARENT_ID */
    public static String getModule_ParentId()
    {
        return getTable() + ".PARENT_ID";
    }

    /** SCARAB_MODULE.OWNER_ID */
    public static String getModule_OwnerId()
    {
        return getTable() + ".OWNER_ID";
    }

    /** SCARAB_MODULE.QA_CONTACT_ID */
    public static String getModule_QaContactId()
    {
        return getTable() + ".QA_CONTACT_ID";
    }

    /** SCARAB_MODULE.DELETED */
    public static String getModule_Deleted()
    {
        return getTable() + ".DELETED";
    }

    /**  the database map  */
    private DatabaseMap dbMap = null;

    /**
        tells us if this DatabaseMapBuilder is built so that we don't have
        to re-build it every time
    */
    public boolean isBuilt()
    {
        if ( dbMap != null )
            return true;
        return false;
    }

    /**  gets the databasemap this map builder built.  */
    public DatabaseMap getDatabaseMap()
    {
        return this.dbMap;
    }
    /** the doBuild() method builds the DatabaseMap */
    public void doBuild ( ) throws Exception
    {
        dbMap = TurbineDB.getDatabaseMap("default");

        dbMap.addTable(getTable());
        TableMap tMap = dbMap.getTable(getTable());

        tMap.setPrimaryKeyMethod(TableMap.IDBROKERTABLE);

        tMap.setPrimaryKeyMethodInfo(tMap.getName());


                  tMap.addPrimaryKey ( getModule_ModuleId(), new Integer(0) );
          
                  tMap.addColumn ( getModule_Name(), new String() );
          
                  tMap.addColumn ( getModule_Description(), new String() );
          
                  tMap.addColumn ( getModule_Url(), new String() );
          
                  tMap.addForeignKey ( getModule_ParentId(), new Integer(0) , "SCARAB_MODULE" , "MODULE_ID" );
          
                  tMap.addForeignKey ( getModule_OwnerId(), new Integer(0) , "TURBINE_USER" , "USER_ID" );
          
                  tMap.addForeignKey ( getModule_QaContactId(), new Integer(0) , "TURBINE_USER" , "USER_ID" );
          
                  tMap.addColumn ( getModule_Deleted(), new Integer(0) );
          
    }

}
