#set ($module = $scarabR.CurrentModule)
#set ($issueType = $scarabR.IssueType)
#set ($itGroup = $intake.IssueType.mapTo($issueType))

#macro (GlobalArtifactTypeEdit $var)
<div class="functnbar$var">
      <input type="submit" value="Save" name="eventSubmit_doSave" />&#160;
</div>
#end

<div class="app" id="div2-1-4-0">

#if ($issueType.IssueTypeId)
   #set ($createNew = false)
   $page.setTitle("Edit global issue type '$issueType.Name'")
#else
   #set ($createNew = true)
   $page.setTitle("Create new issue type")
#end

<h2>$page.Title</h2>

<form method="post" action="$link.setPage("admin,GlobalArtifactTypeEdit.vm")">
<input type="hidden" name="action" value="admin.GlobalArtifactTypeCreate" />
#set ($cancelTemplate = $data.Parameters.getString("$scarabG.Constant.CANCEL_TEMPLATE", "admin,GlobalArtifactTypeShow.vm"))
<input type="hidden" name="$scarabG.Constant.CANCEL_TEMPLATE" value="$cancelTemplate" />
#if (!$createNew)
  <input type="hidden" name="issueTypeId" value="$issueType.IssueTypeId" />
#end
  

#GlobalArtifactTypeEdit()

<h3>Issue type details</h3>
<div class="axial">
  <table border="0" cellspacing="2" cellpadding="3">
    <tr>
    <th>Issue type name</th>
    <td>
       #fieldErrorMsg($itGroup.Name "")  
       <input type="text" size="25" name="$itGroup.Name.Key" value="$!itGroup.Name.Value"/>
    </td>
    </tr>
    <tr>
    <th>Issue type description</th>
    <td>
       #fieldErrorMsg($itGroup.Description "")  
       #textAreaMedium("$itGroup.Description.Key" $itGroup.Description.Value)</td>
    </tr>
  </table>
</div>

#GlobalArtifactTypeEdit("2")

#if (!$createNew)
<div class="functnbar">
<input type="submit" value="Done"  name="eventSubmit_doDone" />&#160;
</div>
#end

$intake.declareGroups()
</form>
</div>
