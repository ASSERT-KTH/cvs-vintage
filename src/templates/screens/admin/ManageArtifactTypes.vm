#set ($issueTypes = $scarabR.CurrentModule.AvailableIssueTypes)

<div class="app" id="div2-1-4-0">

<form method="post" action="$link.setPage("admin,ManageArtifactTypes.vm")">
<input type="hidden" name="action" value="admin.ManageArtifactTypes" />
<input type="hidden" name=$scarabG.Constant.NEXT_TEMPLATE value="admin,ManageArtifactTypes.vm" />
<input type="hidden" name=$scarabG.Constant.OTHER_TEMPLATE value="admin,ArtifactTypeSelect.vm" />

<h2>Manage Issue Types</h2>

<div class="functnbar">
<input type="submit" value="Done"  name="eventSubmit_doDone" />&#160;
<input type="submit" value="Cancel" name="eventSubmit_doCancel" />
</div>

#set ($module = $scarabR.CurrentModule)
#set ($rmits = $module.RModuleIssueTypes)

<h3>Issue types</h3>

#if ($rmits.isEmpty())
   <p><strong class="alert">There are no issue types in this module.</strong></p>
<div class="functnbar3">
<input type="submit" value="Add new"  name="eventSubmit_doGotoothertemplate"/>&#160;
</div>
#else

<table width="100%" border="1" cellspacing="2" cellpadding="3">
<tr>
<th>Select</th>
<th>Issue type name</th>
<th>Active</th>
<th>Show in left hand nav</th>
<th>Sequence #</th>
</tr>

#foreach ($rmit in $rmits)
#set ( $rmitGroup = $intake.RModuleIssueType.mapTo($rmit) )
#indexedRows($velocityCount)
<td><input type="checkbox" name="delete_$rmit.IssueTypeId"/></td>
<td>$link.setPage("admin,ArtifactTypeEdit.vm").addPathInfo("issueTypeId", $rmit.IssueTypeId).setLabel("#if ($rmit.DisplayName)${rmit.DisplayName}#else${rmit.IssueType.Name}#end")</td>
<td>#booleanCheckbox ($rmitGroup.Active)</td>
<td>#booleanCheckbox ($rmitGroup.Display)</td>
<td>#numericSelect( $rmitGroup.Order.Key 1 5 $rmit.Order 1 )</td>
</tr>        
#end
</table>

<div class="functnbar3">
<input type="submit" value="Save" name="eventSubmit_doSave" />&#160;
<input type="submit" value="Add new" name="eventSubmit_doGotoothertemplate" />&#160;
##<input type="submit" value="Copy" />&#160;
<input type="submit" value="Delete selected" name="eventSubmit_doDeletemoduleissuetype" />&#160;
<input type="submit" value="Resort" name="eventSubmit_doSave" />
</div>

#end
<div class="functnbar2">
<input type="submit" value="Done" name="eventSubmit_doDone" />&#160;
<input type="submit" value="Cancel" name="eventSubmit_doCancel" />&#160;
</div>

$intake.declareGroups()
</form>
</div>
