#set ($report = $scarabR.Report)
#set ($intakeReport = $intake.Report.mapTo($report))

<div class="app" id="div2-4-1-step1">

<h2>Define report</h2>

#wizardLinks("reports,Step1.vm" $reportParameters $link)

<form method="get" action="$link.setPage("reports,Step1.vm")">
<input type="hidden" name="action" value="GenerateReport"/>
<input type="hidden" name="$scarabG.Constant.NEXT_TEMPLATE" value="reports,Step2.vm"/>

#set ($reports = $scarabR.CurrentModule.getSavedReports($data.User))
#if ($reports.size() > 0 && !$data.Parameters.getString("report_id"))
<h3>Saved reports</h3>
<select name="report_id">
        <option value="">Choose...</option>
    #foreach ( $report in $reports )
        <option value="$report.ReportId">$report.Name</option>
    #end
</select>
<input type="submit" value="Run" name="eventSubmit_doRunstoredreport"/>
<input type="submit" value="Edit" name="eventSubmit_doEditstoredreport"/>
<input type="submit" value="Delete" name="eventSubmit_doDeletestoredreport"/>
#end

<h3>Summary information</h3>
<p><strong>Considering saving this report?</strong> If so,
enter the following information (it can be edited
later).</p>

<div class="axial">
 <table cellpadding="3" cellspacing="2" border="0">
  <tr>
   <th width="120">Report name</th>
   <td>
   <input type="text" size="30" maxlength="255"
                name="$intakeReport.Name.Key" value="$intakeReport.Name" />
   </td>
  </tr>
  <tr>
   <th width="120">Report description (optional)</th>
   <td>
     #textAreaMedium("$intakeReport.Description.Key" $intakeReport.Description)
   </td>
  </tr>
 </table>
</div>

<h3>Type of report</h3>
<h4>Comparative analysis</h4>
<p>map attributes, attribute options, to  attributes, attribute options,
   or users for a single date/time</p>
<h4>Rate of change</h4>
<p>map attributes, attribute options, or users to multiple dates in an
   array</p>

<div class="axial">
 <table border="1" cellspacing="2" cellpadding="3">
  <tr>
   <th width="120">Type of report</th>
   <td>
    #if ($data.Parameters.getString($intakeReport.Type.Key))
      #set ( $reporttype = $data.Parameters.getInt($intakeReport.Type.Key) )
    #end
    <select name="$intakeReport.Type.Key">
    #foreach ( $option in $scarabR.Report.ReportTypes )
        #option($option)
    #end
    </select>
   </td>
  </tr>
 </table>
</div>

<div class="functnbar2">
  <input type="submit" value="Continue" name="eventSubmit_doStep1" />
</div>

$intake.declareGroups()
</form>
</div>
