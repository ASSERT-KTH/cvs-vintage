#set ($report = $scarabR.Report)
#set ($intakeReport = $intake.Report.mapTo($report))
#set ($action = $link.setPage("reports,Step1.vm").setAction("GenerateReport").addPathInfo("nextTemplate", "reports,Step2.vm").toString())
<div class="app" id="div2-4-1-step1">
<h2>Define report (2.4.1)</h2>
  <div class="tabs">
   <table cellpadding="3" cellspacing="0" border="0">
   <tr>
   <th>1: Summary info</th>
   <td>2:Primary filter attribute (PFA)</td>
   <td>3:Select row/column heading(s)</td>
   </tr>
   </table>
  </div>
<h3>Summary information</h3>
<h4>Considering saving this report?</h4>
<p>If so,  enter the following information (it can be edited later).</p>
<form method="get" action="$action">
<div class="axial">
 <table border="0" cellspacing="2" cellpadding="3">
  <tr>
   <th width="120">Report name</th>
   <td>
   <input type="text" size="30" maxlength="255"
                name="$intakeReport.Name.Key" value="$intakeReport.Name" />
   </td>
  </tr>
  <tr>
   <th width="120">Report description (optional)</th>
   <td>
     <textarea name="$intakeReport.Description.Key" rows="3" cols="30">$intakeReport.Description</textarea>
 </td>
  </tr>
 </table>
 </div>

<h3>Type of report</h3>
<h4>Comparative analysis</h4>
<p>map attributes, attribute options, to  attributes, attribute options,
   or users for a single date/time</p>
<h4>Rate of change</h4>
<p>map attributes, attribute options, or users to multiple dates in an
   array</p>
<div class="axial">
 <table border="1" cellspacing="2" cellpadding="3">
  <tr>
   <th width="120">Type of report</th>
   <td>
#if ($data.Parameters.getString($intakeReport.Type.Key))
    #set ( $reporttype = $data.Parameters.getInt($intakeReport.Type.Key) )
#end
#set ($options = $scarabR.Report.ReportTypes)
#if ($reporttype)
    $options.get($reporttype);
#else
       <select name="$intakeReport.Type.Key">
    #foreach ( $option in $options )
             <option value="$option.Value">$option.Name</option>
    #end
        </select>
#end
   </td>
  </tr>
 </table>
</div>
<div class="functnbar2">
<table cellpadding="4" cellspacing="0" border="1">
 <tr>
  <td class="firstchild"><input type="submit" value="Continue" name="eventSubmit_doStep1" />
</td>
 </tr>
</table>
</div>
#addReportHiddenInputs($report "reports,Step1.vm")
$intake.declareGroups()
</form>
</div>
