<div id="savereport" class="app">

<form method="post" action="$link.setPage("reports,ReportList.vm")" >
<input type="hidden" name="action" value="GenerateReport" />
<input type="hidden" name="$scarabG.Constant.OTHER_TEMPLATE" value="reports,Step1.vm" />


##<p class="paginate">&#171; previous | 1 of 1 | next &#187;</p>

<h3>Saved reports</h3>

<div>
Click on "Availability" to execute report.
</div>
#set ($reports = $scarabR.CurrentModule.getSavedReports($data.User))
#if ($reports.size() > 0 )
 <table width="100%" border="1" cellspacing="2" cellpadding="3">
<tr>
<th nowrap="nowrap">Select</th>
<th>Name</th>
<th>Description</a></th>
<th>Availability</a></th>
<th>Author</a></th>
</tr>

#foreach ($report in $reports)
  #set ($group = $intake.Report.mapTo($report))
  #indexedRows($velocityCount)
<td><input type="checkbox" name="report_id" value="$report.ReportId">
<td>$report.Name</a></td>
<td>$!report.Description</td>
<td>Personal profile</a></td>
<td>
 #set ($createdUser = $scarabR.getUser($report.UserId.toString()))
<a href="mailto:$createdUser.Email">$createdUser.Name</a></td>
</tr>
#end

</table>
#else
 <p><strong class="alert">There are no saved reports.</strong></p>
#end

<div class="functnbar3">
  <input type="submit" value="Create new" name="eventSubmit_doGotoothertemplate" />&#160;
#if ($reports.size() >0)
  <input type="submit" value="Delete selected" name="eventSubmit_doDeletestoredreport" />
#end
</div> 

##<p class="paginate">&#171; previous | 1 of 1 | next &#187;</p>

</div>

$intake.declareGroups()
</form>
