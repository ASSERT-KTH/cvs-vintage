<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE server>
<!-- $Id: ejb-service.xml,v 1.2 2003/05/23 09:04:38 cgjung Exp $ -->

<!-- ===================================================================== -->
<!--                                                                       -->
<!-- EJB services without clustering                                       -->
<!-- Use only one of this and ejb-cluster-service.xml                      -->
<!-- ===================================================================== -->

<server>



  <!-- Load all jars from the JBOSS_DIST/server/<config>/lib directory. This
    can be restricted to specific jars by specifying them in the archives
    attribute.
   -->
  <classpath codebase="lib" archives="*"/>

  <!-- ==================================================================== -->
  <!-- Class Loading for rmi for ejbs                                       -->
  <!-- ==================================================================== -->

  <mbean code="org.jboss.web.WebService"
	 name="jboss:service=WebService">
    <attribute name="Port">8083</attribute>
    <!-- Should resources and non-EJB classes be downloadable -->
    <attribute name="DownloadServerClasses">true</attribute>
  </mbean>



  <!-- ==================================================================== -->
  <!-- The deployers...                                                     -->
  <!-- ==================================================================== -->

  <!-- EJB deployer, remove to disable EJB behavior-->
  <mbean code="org.jboss.ejb.EJBDeployer" name="jboss.ejb:service=EJBDeployer">
    <attribute name="VerifyDeployments">true</attribute>
    <attribute name="ValidateDTDs">false</attribute>
    <attribute name="MetricsEnabled">false</attribute>
    <attribute name="VerifierVerbose">true</attribute>

    <!--
        StrictVerifier: Setting this to 'true' will cause all deployments
        to fail when the Verifier detected a problem with the contained
        Beans.
    -->
    <attribute name="StrictVerifier">true</attribute>

    <depends>jboss.tm:service=TransactionManagerService</depends>
    <depends>jboss:service=WebService</depends>

    <!-- setting this dependency will allow for EJB2.1 Web Service Deployments -->
    <depends optional-attribute-name="WS4EEDeployer">jboss.net:service=WS4EEDeployer</depends>

  </mbean>

  <!-- ==================================================================== -->
  <!-- Monitoring and Management                                            -->
  <!-- ==================================================================== -->

  <!-- Uncomment to enable JMX monitoring of the bean cache
  <mbean code="org.jboss.monitor.BeanCacheMonitor" 
         name="jboss.monitor:name=BeanCacheMonitor"/>
  -->

  <!-- Uncomment to enable JMX monitoring of the entity bean locking
  <mbean code="org.jboss.monitor.EntityLockMonitor" 
         name="jboss.monitor:name=EntityLockMonitor"/>
  -->

  <!-- ==================================================================== -->
  <!-- EJB Invokers                                                         -->
  <!-- ==================================================================== -->

  <!--local invoker.  Can probably be replaced with a generic local invoker-->
  <mbean code="org.jboss.invocation.local.LocalInvoker" 
         name="jboss:service=invoker,type=local">
  </mbean>

  <!-- remoting framework invokers -->

  <!--remoting framework socket transport-->

  <mbean code="org.jboss.invocation.remoting.EJBSubsystemInvocationHandler"
         name="jboss.ejb:service=RemotingToEJBAdapter">
  </mbean>

  <mbean code="org.jboss.invocation.remoting.RemotingAdapter"
         name="jboss.ejb:service=RemotingAdapter">
    <depends optional-attribute-name="NextInterceptorName">jboss.tm:service=DTXAResourceInterceptor</depends>
  </mbean>

  <mbean code="org.jboss.remoting.ServerInterceptorChain"
         name="jboss.ejb:service=EJBServerInterceptorChain,transport=Socket">
    <attribute name="Subsystem">EJB</attribute>
    <depends optional-attribute-name="ConnectorName">jboss.remoting:service=Connector,transport=Socket</depends>
    <depends-list optional-attribute-name="InterceptorNames">
      <depends-list-element>jboss.tm:service=XAWorkInterceptor</depends-list-element>
      <depends-list-element>jboss.ejb:service=RemotingToEJBAdapter</depends-list-element>
    </depends-list>
  </mbean>




</server>
