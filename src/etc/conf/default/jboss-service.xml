<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE server>
<!-- $Id: jboss-service.xml,v 1.28 2002/02/15 08:11:01 user57 Exp $ -->

<!-- ===================================================================== -->
<!--                                                                       -->
<!--  JBoss Server Configuration                                           -->
<!--                                                                       -->
<!-- ===================================================================== -->

<server>

  <!--
     | The Classpath element is needed for http based installations 
     | we need to list all the archives that the server needs at boot
     | if the installation is local and the configuration is from file
     | then there is no need to list the files and it should commented
   -->
  <classpath codebase="lib/ext" archives="*"/>

  <!-- ==================================================================== -->
  <!-- Class Loading                                                        -->
  <!-- ==================================================================== -->

  <mbean code="org.jboss.web.WebService"
	 name="jboss:service=Webserver">
    <attribute name="Port">8083</attribute>
    <!-- Should resources and non-EJB classes be downloadable -->
    <attribute name="DownloadServerClasses">true</attribute>
  </mbean>

  <!-- ==================================================================== -->
  <!-- JSR-77 Single JBoss Server Management Domain                         -->
  <!-- ==================================================================== -->

  <mbean code="org.jboss.management.j2ee.SingleJBossServerManagement"
	 name="jboss.management.single:type=J2EEDomain,name=Manager" >
  </mbean>

  <!-- ==================================================================== -->
  <!-- JNDI                                                                 -->
  <!-- ==================================================================== -->

  <mbean code="org.jboss.naming.NamingService"
	 name="jboss:service=Naming">
    <attribute name="Port">1099</attribute>
  </mbean>
  <mbean code="org.jboss.naming.JNDIView" 
	 name="jboss:service=JNDIView"/>

  <!-- ==================================================================== -->
  <!-- Security                                                             -->
  <!-- ==================================================================== -->

  <mbean code="org.jboss.security.plugins.SecurityConfig"
	 name="jboss.security:name=SecurityConfig">
    <attribute name="AuthConf">auth.conf</attribute>
  </mbean>

  <!-- JAAS security manager and realm mapping -->
  <mbean code="org.jboss.security.plugins.JaasSecurityManagerService"
	 name="jboss.security:name=JaasSecurityManager">
    <attribute name="SecurityManagerClassName">
      org.jboss.security.plugins.JaasSecurityManager
    </attribute>
  </mbean>

  <!-- ==================================================================== -->
  <!-- Transactions                                                         -->
  <!-- ==================================================================== -->

  <mbean code="org.jboss.tm.TransactionManagerService" 
	 name="jboss:service=TransactionManager">
    <attribute name="TransactionTimeout">300</attribute>

    <!-- Use this attribute if you need to use a specific Xid
         implementation
    <attribute name="XidClassName">oracle.jdbc.xa.OracleXid</attribute>
    -->
  </mbean>

  <!-- 
     | Uncomment to use Tyrex (tyrex.exolab.org) transaction manager plugin
     | instead of the org.jboss.tm.TransactionManagerService and comment out
     | the TransactionManagerService above.
     | Make sure you have Xerces in lib/ext. At the moment JBoss does not
     | ship Xerces as part of distribution. Version 1.x seems to work fine,
     | though 2.x should as well, use whichever you like.
     |
  <mbean code="org.jboss.tm.plugins.tyrex.TransactionManagerService"
         name="jboss:service=TransactionManager">
        <attribute name="ConfigFileName">../conf/default/domain.xml</attribute>
  </mbean>
  -->

  <mbean code="org.jboss.tm.usertx.server.ClientUserTransactionService"
	 name="jboss:service=ClientUserTransaction">
  </mbean>


  <!-- ==================================================================== -->
  <!-- The deployers...                                                     -->
  <!-- ==================================================================== -->

  <!-- Main Deployer and SARDeployer are provided by main -->

  <!-- EJB deployer, remove to disable EJB behavior-->
  <mbean code="org.jboss.ejb.EJBDeployer" name="jboss.ejb:service=EJBDeployer">
    <attribute name="VerifyDeployments">true</attribute>
    <attribute name="ValidateDTDs">false</attribute>
    <attribute name="MetricsEnabled">false</attribute>
    <attribute name="VerifierVerbose">true</attribute>
    <attribute name="BeanCacheJMSMonitoringEnabled">false</attribute>
  </mbean>
  
  <!-- EAR deployer, remove if you are not using Web layers -->
  <mbean code="org.jboss.deployment.EARDeployer" name="jboss.j2ee:service=EARDeployer">
  </mbean>
  
  <!-- WAR Deployer is provided by tomcat or jetty -->
  <!-- RAR Deployer is provided by the rar.sar package -->


  <!-- ==================================================================== -->
  <!-- JBoss Server Management                                              -->
  <!-- ==================================================================== -->

  <!-- AS Temporary not available
  <mbean code="org.jboss.management.ServerDataCollector"
         name="jboss.management:service=Collector">
    <attribute name="RefreshSleep">5000</attribute>
  </mbean>
  -->

  <!-- ==================================================================== -->
  <!-- Monitoring and Management                                            -->
  <!-- ==================================================================== -->

  <!-- Uncomment to enable JMX monitoring of the bean cache
  <mbean code="org.jboss.monitor.BeanCacheMonitor" 
         name="jboss.jmx:name=BeanCacheMonitor"/>
  -->


  <!-- ==================================================================== -->
  <!-- Scheduler Service                                                    -->
  <!-- ==================================================================== -->

  <!-- Uncomment this to enable Scheduling with Schedulable class - ->
  <mbean code="org.jboss.util.Scheduler" name="jboss:service=Scheduler">
    <attribute name="StartAtStartup">true</attribute>
    <attribute name="SchedulableClass">org.jboss.util.Scheduler$SchedulableExample</attribute>
    <attribute name="SchedulableArguments">Schedulabe Test,12345</attribute>
    <attribute name="SchedulableArgumentTypes">java.lang.String,int</attribute>
    <attribute name="InitialStartDate">0</attribute>
    <attribute name="SchedulePeriod">10000</attribute>
    <attribute name="InitialRepetitions">-1</attribute>
  </mbean>
  <!- - -->
  <!-- Uncomment this to enable Scheduling with Schedulable MBean - ->
  <mbean code="org.jboss.util.SchedulableExample" name="jboss:type=example,name=schedulable">
  </mbean>
  <mbean code="org.jboss.util.Scheduler" name="jboss:service=Scheduler">
    <attribute name="StartAtStartup">true</attribute>
    <attribute name="SchedulableMBean">jboss:type=example,name=schedulable</attribute>
    <attribute name="SchedulableMBeanMethod">hit( NOTIFICATION, DATE, REPETITIONS, SCHEDULER_NAME, java.lang.String )</attribute>
    <attribute name="InitialStartDate">NOW</attribute>
    <attribute name="SchedulePeriod">10000</attribute>
    <attribute name="InitialRepetitions">10</attribute>
  </mbean>
  <!- - -->

  <!-- Uncomment this and set up according to manual to add Castor JDO service
  <mbean code="org.jboss.jdo.castor.CastorJDOImpl"
         name="jboss:service=CastorJDO,name=someName">
    <attribute name="Configuration">
      file:../conf/default/database.xml
    </attribute>
    <attribute name="JndiName">jdo/someName</attribute>
    <attribute name="LockTimeout">0</attribute>
    <attribute name="LoggingEnabled">false</attribute>
    <attribute name="CommonClassPath">false</attribute>
  </mbean>
  -->

  <!-- ==================================================================== -->
  <!-- Invokers to the JMX node                                             -->
  <!-- ==================================================================== -->

  <!-- RMI/JRMP invoker -->
  <mbean code="org.jboss.invocation.jrmp.server.JRMPInvoker" 
   name="jboss:service=invoker,type=jrmp">
    <attribute name="RMIObjectPort">4444</attribute>
    <!--
    <attribute name="RMIClientSocketFactory">custom</attribute>
    <attribute name="RMIServerSocketFactory">custom</attribute>
    <attribute name="RMIServerSocketAddr">custom</attribute>
    -->
  </mbean>
  
  <mbean code="org.jboss.invocation.local.LocalInvoker" 
         name="jboss:service=invoker,type=local">
  </mbean>

</server>
