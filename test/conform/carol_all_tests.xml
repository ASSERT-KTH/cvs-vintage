<project name="carol.all.test" default="test.all" >

  <!--
    Figure out what to do with the Ant property "orb.initializer.class".

    It used to be passed as either test.client.jvm.xtra1 or
    test.client.jvm.xtra2 to some tests.

    See:
    http://cvs.forge.objectweb.org/cgi-bin/viewcvs.cgi/carol/carol/test/conform/carol_all_tests.xml?rev=1.15&content-type=text/vnd.viewcvs-markup

    As far as I can tell, this property is completely useless, for the following
    reasons:

    (a) the dot after -D screws up the property name.  As far as I can tell,
        it should be
          -Dorg.omg.PortableInterceptor.ORBInitializerClass
        rather than
          -D.org.omg.PortableInterceptor.ORBInitializerClass

        This is based on my reading of
          http://java.sun.com/j2se/1.4.2/docs/api/org/omg/PortableInterceptor/ORBInitializer.html

    (b) The specified class name does not exist.  There is no
        org.objectweb.owis.common.jtests.interceptor.iiop.IIOPInitilizer

        However, there does exist a class named
        org.objectweb.carol.jtests.conform.interceptor.iiop.IIOPInitializer
  -->

  <property name="orb.initializer.class"
    value="-D.org.omg.PortableInterceptor.ORBInitializerClass.org.objectweb.owis.common.jtests.interceptor.iiop.IIOPInitilizer"/>

  <property name="test.build.properties" value="${test.build}/test/properties"/>

  <taskdef name="carolTest"
    classname="org.objectweb.carol.ant.CarolTestTask"
    classpath="${test.build}/classes"/>

  <!-- ************************************-->
  <!-- *********     TEST ALL    **********-->
  <!-- ************************************-->
  <target name="test.all">
    <mkdir dir="${test.build.properties}"/>

    <carolTest
      antfile="conform/generic/carol_double.xml"
      propDestination="${test.build.properties}"
      propSource="${test.ext}">
    </carolTest>
  </target>
</project>
