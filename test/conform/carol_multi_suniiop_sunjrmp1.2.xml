<?xml version="1.0" encoding="UTF-8"?>
<!--
 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
 - The contents of this file are subject to the LGPL Licence 
 - 
 - Autor:               <a href="sebastien.chassande@inriaples.fr">Sebastien Chassande</a>
 - Carol Modifications :<a href="Guillaume.Riviere@inrialpes.fr">Guillaume RIVIERE</a>
 -
 - test carol with sun iiop and sun jrmp 1.2
 -->
<project name="carol.multi.suniiop.sunjrmp1.2" default="all" >
  <!-- ************************************-->
  <!-- *********     TEST ALL    **********-->
  <!-- ************************************-->
  <target name="all">
    <condition property="is.jvm.1.4">
      <equals  arg1="${ant.java.version}" arg2="1.4"/>
    </condition>
    <antcall target="launch"/>
  </target> 

  <target name="launch" if="is.jvm.1.4">
    <ant antfile="conform/generic/carol_double.xml">
      <property name="stub.jar.name1" value="sunjrmp1.2.jar"/>
      <property name="stub.jar.name2" value="suniiop.jar"/>
      <property name="client.properties.file.name1" value="jrmp_jndi.properties"/>
      <property name="client.properties.file.name2" value="iiop_jndi.properties"/>
      <property name="server.properties.file.name1" value="multisun_rmi.properties"/>
      <property name="server.properties.file.name2" value="jrmp_jndi.properties"/>
      <property name="name.server.class.name1" value="sun.rmi.registry.RegistryImpl"/>
      <property name="name.server.option1" value="19570"/>
      <property name="name.server.class.name2" value="com.sun.corba.se.internal.CosNaming.TransientNameServer"/>
      <property name="name.server.option2"  value="-ORBInitialPort 19571"/>
      <property name="test.name"            value="multi_suniiop_sunjrmp1.2"/>
      <property name="test.client.pkg1" value="org/objectweb/carol/jtests/conform/basic/clients/rmijrmp"/>
      <property name="test.client.jvm.xtra1" value=""/>
      <property name="test.client.pkg2" value="org/objectweb/carol/jtests/conform/basic/clients/rmiiiop"/>
      <property name="test.client.jvm.xtra2" value="-D.org.omg.PortableInterceptor.ORBInitializerClass.org.objectweb.owis.common.jtests.interceptor.iiop.IIOPInitilizer"/>
    </ant>
  </target>  
</project>
