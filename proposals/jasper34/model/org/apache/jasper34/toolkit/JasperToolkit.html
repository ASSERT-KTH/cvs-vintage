<HTML><HEAD><!-- Generated by Together onTue Apr 17 23:49:27 EDT 2001 --><TITLE></TITLE><LINK REL="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style"></HEAD><BODY BGCOLOR="white"><!-- ========== START OF NAVBAR ========== --><TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0"><TR><TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1"><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3"><TR ALIGN="center" VALIGN="top"><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "class-use/JasperToolkit.html"><FONT ID="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD></TR></TABLE><TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM></TD></EM></TD></TR><TR><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">&nbsp;PREV CLASS&nbsp;&nbsp;NEXT CLASS</FONT></TD><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">  <A HREF= "../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;&nbsp;<A HREF= "JasperToolkit.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD></TR><TR><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">SUMMARY:&nbsp;INNER&nbsp;|&nbsp;<A HREF= "#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_summary">METHOD</A></FONT></TD><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">DETAIL:&nbsp;<A HREF= "#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_detail">METHOD</A></FONT></TD></TR></TABLE><!-- ========== END OF NAVBAR ========== --><HR><H2><FONT SIZE="-1">org.apache.jasper34.toolkit</FONT><BR>Class JasperToolkit</H2><DL><DT><B>Direct Known Subclasses:</B><DD><A HREF= "../../../../org/apache/jasper34/servlet/JspServletToolkit.html">JspServletToolkit</A></DD></DL><HR><DL><DT>public class <B>JasperToolkit</B></DL><P>Base class for Jasper adapter toolkits.  Acts as the 
default Factory and configuration 
class for access to default behavior, properties and 
services used by Jasper adapter implementations.
<p>
The design philosophy for using a base class instead of an
interface is to allow the addition of future common services 
to toolkit subclasses without having to redefine the interface. 
<p>
JasperToolkit provides factory methods for generating such services as:
the base JspFactory implementation used by the JSP pages, the JspMangler
implementation, cache storage containers, the JspCompiler, etc.  By
using the toolkit's factory methods to access these services, each
service is easy to replace/upgrade in the future as needed.
<p>
In addition, JasperToolkit provides access to configuration properties using the
following order of precedence:
<ol>
<li>System Properties set via the -D java command line option.</li>
<li>Properties read from a user-specified (via -D option) resource
file.</li>
<li>Properties read from the resource file:
"org/apache/jasper34/resources/Toolkit.properties".</li>
</ol>
<p>
Some of JasperToolkit's default methods re-use the objects they create 
for repeated use.  This is discussed in the documentation for the
particular factory method where relevant.  This is especially notable
for the createToolkit() method which will only create one instance of a
toolkit per <i>name</i> requested.  In most cases, though, 
such optimization or life-cycle issues are handled by the 'getXXXX' methods
rather than the create factory methods.  It is expected that optimizations and 
life-cycle management will often be overridden or handled by subclasses
and calling code.
<p>
Finally, JasperToolkit also provides a factory method for creating
subclass implementations of JasperToolkit.  This latter mechanism is used so
that particular implementations of Jasper can instantiate appropriate
factories for the services particular to the implementation.  For
example, JspServlet requires certain life-cycle services, such as
a class loader, that is not necessary for other Jasper implementors
such as JspC.  By using createToolkit(), instead of direct instantiation,
the implementation allows easy replacement/upgrade of essentially all
behavior and services as needed.
<p>
To make use of the 
<A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#createToolkit(java.lang.String, java.lang.Object)">
createToolkit()</A>
method, a subclass of JasperToolkit should obey the following rules:
<ol>
<li>The subclass must provide a public constructor that receives
a String <i>name</i> parameter (see below) and
a single arbitrary Object parameter for initialization, but 
should be able to accept a null value for the initialization 
parameter.  JasperToolkit provides this constructor already.</li>
<li>Although it should not rely too heavily on statics, each toolkit
should be written as if it might be a singleton, since JasperToolkit
will re-use the same instance for each toolkit name requested.  The
basic consequence is that some JasperToolkit subclass methods may need
to be made thread-safe.  Note that by using different toolkit 
<i>names</i>, the same class may be instantiated more than once, so
these are not true singletons.</li>
<li>The subclass should be registered with a <i>name</i> via configuration
properties or Jasper configuration resource file.
</ol>
To register a subclass with a particular name, a configuration property
of the following form should be entered, either as a System property
via -D at the command line or as a property in either the user-specified
or the default toolkit resource file:
<pre>
org.apache.jasper34.toolkit.toolkit.<i>name</i> = <i>name of class</i>
</pre>
For example, the entry:
<pre>
org.apache.jasper34.toolkit.toolkit.JspServletToolkit =  \
org.apache.jasper34.servlet.JspServletToolkit
</pre>
would allow creation of a JspServletToolkit instance with the call:
<pre>
JasperToolkit tk = JasperToolkit.createToolkit(
"JspServletToolkit",config);
JspServletToolkit jstk = (JspServletToolkit)tk;
JspMangler mangler = jstk.createJspMangler(jspUri,scratchDir);
//etc...
</pre>
This allows the toolkit implementation for a Jasper adapter to
be easily replaced by simply specifying the configuration property.
<p>
In a similar manner, the following properties can be set to indicate
an alternate class to use for the following services:
<ul>
<li>org.apache.jasper34.toolkit.toolkit.XXXX</li>
<li>org.apache.jasper34.toolkit.jspfactory.XXXX</li>
<li>org.apache.jasper34.toolkit.pagehandler.XXXX</li>
<li>org.apache.jasper34.toolkit.requesthandler.XXXX</li>
<li>org.apache.jasper34.toolkit.jspcompiler.XXXX</li>
<li>org.apache.jasper34.toolkit.javacompiler.XXXX</li>
<li>org.apache.jasper34.toolkit.jspmangler.XXXX</li>
<li>org.apache.jasper34.toolkit.modificationchecker.XXXX</li>
<li>org.apache.jasper34.toolkit.cache.XXXX
</ul>
where XXXX = the name of the Jasper implementation passed to the
create method.  If no name (null) is passed to a create method, then
the name 'default' is assumed.  In each case, the class specified by the 
property <b>must</b> implement the interface returned by the factory and
fullfill any requirements described by the factory methods documentation
regarding the particular service, notably for initialization.  
See documentation below on the relevant service factory and property 
name constants for details.
<p>
Where it is impossible to make an implementation of a particular service
fit the requirements of a particular factory, then a subclass of this
JasperToolkit class itself (via createToolkit() as above) can be used to
provide an amended initialization contract for the desired service. 
<p>
While the factory (create) methods of this JasperToolkit base class 
always take an implementation <i>name</i> parameter, calling code will
generally find it more useful to invoke the <i>getXXX()</i> methods which will 
insert the <i>name</i> used for the current toolkit's creation and manage
object reuse where appropriate.  For example:
<pre>
JasperToolkit tk = JasperToolkit.createToolkit("JspServlet");
// ...
ModificationChecker mc = tk.getModificationChecker(srcFile,tgtFile);

</pre>
<p><P><DL><DT><B>Author:</B><DD>Mel Martinez<DT><B>See Also: </B><A HREF= "../../../../org/apache/jasper34/toolkit/JspPageHandler.html">JspPageHandler</A>, <A HREF= "../../../../org/apache/jasper34/toolkit/JspRequestHandler.html">JspRequestHandler</A></DL><HR><!--  =========== FIELD SUMMARY ===========  --><A NAME= "field_summary"></A><TABLE BORDER="1"  CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF"  ID="TableHeadingColor"> <TD COLSPAN=2><FONT SIZE= "+2"><B>Field Summary</B></FONT></TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;final static String</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#DEFAULT_JASPER_TOOLKIT_PROPERTY">DEFAULT_JASPER_TOOLKIT_PROPERTY</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name of configuration property to set to specify a 
different default JasperToolkit implementation to return
from the createToolkit() method with a null toolkit
name.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;static String</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#JASPER_TOOLKIT_RESOURCE_PROPERTY">JASPER_TOOLKIT_RESOURCE_PROPERTY</A></B></CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name of property to set to override which resource file
to be read in by Jasper for default configuration data.</TD></TR></TABLE><BR><!--  =========== CONSTRUCTOR SUMMARY ===========  --><A NAME= "constructor_summary"></A><TABLE BORDER="1"  CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF"  ID="TableHeadingColor"> <TD COLSPAN=2><FONT SIZE= "+2"><B>Constructor Summary</B></FONT></TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#JasperToolkit()">JasperToolkit</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructs a JasperToolkit with the
name "default".</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#JasperToolkit(java.lang.String, java.lang.Object)">JasperToolkit</A></B>(String name, Object params)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructs a JasperToolkit with the indicated
<i>name</i> and initialization params.</TD></TR></TABLE><BR><!--  =========== METHOD SUMMARY ===========  --><A NAME= "method_summary"></A><TABLE BORDER="1"  CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF"  ID="TableHeadingColor"> <TD COLSPAN=2><FONT SIZE= "+2"><B>Method Summary</B></FONT></TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;Cache</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#createCache(int, int)">createCache</A></B>(int maxSize, int flushIncrement)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create and return an instance of a Cache implementation
associated with the current toolkit implementation.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;ClassLoader</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#createClassLoader()">createClassLoader</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return an instance of a ClassLoader</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;<A HREF= "../../../../org/apache/jasper34/toolkit/JspPageHandler.html">JspPageHandler</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#createJspPageHandler(java.lang.String)">createJspPageHandler</A></B>(String jspUri)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;creates a JspPageHandler instance using the default implementation
associated with the current toolkit instance.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;static <A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html">JasperToolkit</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#createToolkit(java.lang.String, java.lang.Object)">createToolkit</A></B>(String name, Object initParam)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;creates an instance of a JasperToolkit subclass as indicated
by <i>name</i>.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;static <A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html">JasperToolkit</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#createToolkit(java.lang.Object)">createToolkit</A></B>(Object params)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns an instance of the default toolkit, initialized
with the indicated <i>params</i>.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;<A HREF= "../../../../org/apache/jasper34/toolkit/JavaCompiler.html">JavaCompiler</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getJavaCompiler(java.lang.String)">getJavaCompiler</A></B>(String name)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return an instance of a JavaCompiler associated with
the <i>name</i>d JasperToolkit implementation.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;<A HREF= "../../../../org/apache/jasper34/toolkit/JavaCompiler.html">JavaCompiler</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getJavaCompiler()">getJavaCompiler</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return an instance of a JavaCompiler.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;<A HREF= "../../../../org/apache/jasper34/toolkit/JspCompiler.html">JspCompiler</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getJspCompiler(java.lang.String)">getJspCompiler</A></B>(String name)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return an instance of a JspCompiler associated with
the <i>name</i>d JasperToolkit implementation.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;<A HREF= "../../../../org/apache/jasper34/toolkit/JspCompiler.html">JspCompiler</A></CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getJspCompiler()">getJspCompiler</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;same as <code>getJspCompiler(getName())</code>.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;JspFactory</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getJspFactory()">getJspFactory</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the default JspFactory instance with the
same implementation name as this toolkit.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;JspMangler</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getJspMangler(java.lang.String, java.lang.String)">getJspMangler</A></B>(String jspUri, String outputDir)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accessor for retrieving an instance of the default JspMangler
implementation class for this toolkit implementation and
associated with the indicated <i>jspUri</i> and
<i>outputDir</i>.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;ModificationChecker</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getModificationChecker(File, File)">getModificationChecker</A></B>(File source, File target)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return an instance of ModificationChecker of a type indicated
by this toolkit's <i>name</i>, that compares the relative
modification dates of <i>source</i> and <i>target</i>.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;String</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getName()">getName</A></B>()</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets the <i>name</i> of this toolkit instance.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;static String</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#getProperty(java.lang.String)">getProperty</A></B>(String propertyName)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retrieves the named configuration property.</TD></TR><TR BGCOLOR="white" ID="TableRowColor"><TD ALIGN="right" VALIGN="top" WIDTH="20%"><FONT SIZE="-1"><CODE>&nbsp;void</CODE></FONT></TD><TD><CODE><B><A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html#setName(java.lang.String)">setName</A></B>(String name)</CODE><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sets the <i>name</i> of this toolkit instance.</TD></TR></TABLE><BR><!--  =========== FIELD DETAIL ===========  --><A NAME= "field_detail"></A><TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD COLSPAN=1><FONT SIZE="+2"><B>Field Detail</B></FONT></TD></TR></TABLE><BR><A NAME= "DEFAULT_JASPER_TOOLKIT_PROPERTY"><H3>DEFAULT_JASPER_TOOLKIT_PROPERTY</H3></A><PRE>public final static String <B>DEFAULT_JASPER_TOOLKIT_PROPERTY</B></PRE><DL><DD>name of configuration property to set to specify a 
different default JasperToolkit implementation to return
from the createToolkit() method with a null toolkit
name.  Example:
<pre>
org.apache.jasper.toolkit.toolkit.default = \
com.foo.MyJasperToolkit
</pre>
The default value is this class.</DL><HR><A NAME= "JASPER_TOOLKIT_RESOURCE_PROPERTY"><H3>JASPER_TOOLKIT_RESOURCE_PROPERTY</H3></A><PRE>public static String <B>JASPER_TOOLKIT_RESOURCE_PROPERTY</B></PRE><DL><DD>name of property to set to override which resource file
to be read in by Jasper for default configuration data.
The path should be expressed as a "/" (forward slash)-delimited
path to the resource file reachable from an entry within the
classpath.  Example:
<pre>
org.apache.jasper.resources.toolkit_properties = \
com/foo/resources/MyJSPConfig.properties
</pre>
Prior to this, DefaultToolkit will <b>always</b> read in the default
org/apache/jasper34/resources/Toolkit.properties resource.</DL><!--  =========== CONSTRUCTOR DETAIL ===========  --><A NAME= "constructor_detail"></A><TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD COLSPAN=1><FONT SIZE="+2"><B>Constructor Detail</B></FONT></TD></TR></TABLE><BR><A NAME= "JasperToolkit()"><H3>JasperToolkit</H3></A><PRE>public <B>JasperToolkit</B>()</PRE><DL><DD>constructs a JasperToolkit with the
name "default".</DL><HR><A NAME= "JasperToolkit(java.lang.String, java.lang.Object)"><H3>JasperToolkit</H3></A><PRE>public <B>JasperToolkit</B>(String name, Object params)</PRE><DL><DD>constructs a JasperToolkit with the indicated
<i>name</i> and initialization params.</DL><!--  =========== METHOD DETAIL ===========  --><A NAME= "method_detail"></A><TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD COLSPAN=1><FONT SIZE="+2"><B>Method Detail</B></FONT></TD></TR></TABLE><BR><A NAME= "createCache(int, int)"><H3>createCache</H3></A><PRE>public Cache <B>createCache</B>(int maxSize, int flushIncrement)</PRE><DL><DD>create and return an instance of a Cache implementation
associated with the current toolkit implementation.  Equivalent
to calling <code>createCache(getName(),maxSize,flushIncrement)</code>.<DD><DL><DT><B>Parameters:</B><DD><b>maxSize</b> - maximum size of cache<DD><b>flushIncrement</b> - number of elements to flush
on cache overflow.<DT><B>Returns: </B>an instance of a Cache.</DL></DD></DL><HR><A NAME= "createClassLoader()"><H3>createClassLoader</H3></A><PRE>public ClassLoader <B>createClassLoader</B>()</PRE><DL><DD>return an instance of a ClassLoader</DL><HR><A NAME= "createJspPageHandler(java.lang.String)"><H3>createJspPageHandler</H3></A><PRE>public <A HREF= "../../../../org/apache/jasper34/toolkit/JspPageHandler.html">JspPageHandler</A> <B>createJspPageHandler</B>(String jspUri)</PRE><DL><DD>creates a JspPageHandler instance using the default implementation
associated with the current toolkit instance.  Same as calling
<code>createJspPageHandler(getName(),jspUri)</code>.<DD><DL><DT><B>Parameters:</B><DD><b>jspUri</b> - String URI to the JSP<DT><B>Returns: </B>a JspPageHandler instance</DL></DD></DL><HR><A NAME= "createToolkit(java.lang.String, java.lang.Object)"><H3>createToolkit</H3></A><PRE>public static <A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html">JasperToolkit</A> <B>createToolkit</B>(String name, Object initParam)</PRE><DL><DD>creates an instance of a JasperToolkit subclass as indicated
by <i>name</i>.  If <i>name</i> is null, returns an instance
of the subclass indicated by the JASPER_DEFAULT_TOOLKIT property
or simply a JasperToolkit if the latter has not been set.
<p>
This method uses a 'psuedo-Singleton' pattern on each toolkit <i>name</i>
requested - it will re-issue the same instance on subsequent
requests for the given name instead of generating a new instance.
Note - the same <i>class</i> can be used with different names, in which
case multiple instances of the particular <i>class</i> will be
created.
<p>
Except in the default, or null, case, the class of the toolkit 
that is instantiated and returned is determined by the configuration
property:
<pre>
org.apache.jasper.toolkit.toolkit.<i>name</i>
</pre>
where <i>name</i> is the same as the name passed to this method. The
class indicated by the property must be a subclass of JasperToolkit,
and obey the following rules:
<ol>
<li>The subclass must provide a public constructor that recieves
a single arbitrary Object parameter for initialization, but 
should be able to accept a null value for the initialization 
parameter.  JasperToolkit provides this constructor already.</li>
<li>Although it should not rely too heavily on statics, each toolkit
should be written as if it might be a singleton, since JasperToolkit
will re-use the same instance for each toolkit name requested.  The
basic consequence is that some JasperToolkit subclass methods may need
to be made thread-safe.  Note that by using different toolkit 
<i>names</i>, the same class may be instantiated more than once, so
these are not true singletons.</li>
<li>The subclass should be registered with a name via configuration
properties or Jasper configuration resource file.</li>
</ol>
To register a subclass with a particular name, a configuration property
of the following form should be entered, either as a System property
via -D at the command line or as a property in either the user-specified
or the default toolkit resource file:
<pre>
org.apache.jasper34.toolkit.toolkit.<i>name</i> = <i>name of class</i>
</pre>
For example, the entry:
<pre>
org.apache.jasper34.toolkit.toolkit.JspServletToolkit =  \
org.apache.jasper34.servlet.JspServletToolkit
</pre>
would allow creation of a JspServletToolkit instance with the call:
<pre>
JasperToolkit tk = JasperToolkit.createToolkit(
"JspServletToolkit",config);
JspServletToolkit jstk = (JspServletToolkit)tk;
//etc...
</pre>
This allows the toolkit implementation for a Jasper adapter to
be easily replaced by simply specifying the configuration property.
<p><DD><DL><DT><B>Parameters:</B><DD><b>name</b> - name of Toolkit implementation to instantiate.<DD><b>initParam</b> - Object to pass to init() method of Toolkit.<DT><B>Returns: </B>an instance of a JasperToolkit subclass.<DT><B>Throws:</B><DD>a - RuntimeException if unable to find and instantiate the
desired toolkit class.</DL></DD></DL><HR><A NAME= "createToolkit(java.lang.Object)"><H3>createToolkit</H3></A><PRE>public static <A HREF= "../../../../org/apache/jasper34/toolkit/JasperToolkit.html">JasperToolkit</A> <B>createToolkit</B>(Object params)</PRE><DL><DD>returns an instance of the default toolkit, initialized
with the indicated <i>params</i>.<DD><DL><DT><B>Parameters:</B><DD><b>params</b> - arbitrary initialization parameters.<DT><B>Returns: </B>an instance of the default toolkit, initialized
with the indicated <i>params</i>.</DL></DD></DL><HR><A NAME= "getJavaCompiler(java.lang.String)"><H3>getJavaCompiler</H3></A><PRE>public <A HREF= "../../../../org/apache/jasper34/toolkit/JavaCompiler.html">JavaCompiler</A> <B>getJavaCompiler</B>(String name)</PRE><DL><DD>return an instance of a JavaCompiler associated with
the <i>name</i>d JasperToolkit implementation.  This will
always return the same instance for a given <i>name</i>.<DD><DL><DT><B>Parameters:</B><DD><b>name</b> - of implementation<DT><B>Returns: </B>an instance of a JavaCompiler</DL></DD></DL><HR><A NAME= "getJavaCompiler()"><H3>getJavaCompiler</H3></A><PRE>public <A HREF= "../../../../org/apache/jasper34/toolkit/JavaCompiler.html">JavaCompiler</A> <B>getJavaCompiler</B>()</PRE><DL><DD>return an instance of a JavaCompiler.</DL><HR><A NAME= "getJspCompiler(java.lang.String)"><H3>getJspCompiler</H3></A><PRE>public <A HREF= "../../../../org/apache/jasper34/toolkit/JspCompiler.html">JspCompiler</A> <B>getJspCompiler</B>(String name)</PRE><DL><DD>return an instance of a JspCompiler associated with
the <i>name</i>d JasperToolkit implementation.  This will
always return the same instance for a given <i>name</i>.<DD><DL><DT><B>Parameters:</B><DD><b>name</b> - of implementation<DT><B>Returns: </B>an instance of a JspCompiler</DL></DD></DL><HR><A NAME= "getJspCompiler()"><H3>getJspCompiler</H3></A><PRE>public <A HREF= "../../../../org/apache/jasper34/toolkit/JspCompiler.html">JspCompiler</A> <B>getJspCompiler</B>()</PRE><DL><DD>same as <code>getJspCompiler(getName())</code>.<DD><DL><DT><B>Returns: </B>an instance of a JSP Compiler</DL></DD></DL><HR><A NAME= "getJspFactory()"><H3>getJspFactory</H3></A><PRE>public JspFactory <B>getJspFactory</B>()</PRE><DL><DD>returns the default JspFactory instance with the
same implementation name as this toolkit.
This method is equivalent to calling:
<code>getJspFactory(getName())</code>.<DD><DL><DT><B>Returns: </B>an instance of a JspFactory implementation.</DL></DD></DL><HR><A NAME= "getJspMangler(java.lang.String, java.lang.String)"><H3>getJspMangler</H3></A><PRE>public JspMangler <B>getJspMangler</B>(String jspUri, String outputDir)</PRE><DL><DD>accessor for retrieving an instance of the default JspMangler
implementation class for this toolkit implementation and
associated with the indicated <i>jspUri</i> and
<i>outputDir</i>.  If a JspMangler for the indicated URI and
output directory already exists, this method will return the
previous instance.<DD><DL><DT><B>Parameters:</B><DD><b>jspUri</b> - String URI path to the JSP file<DD><b>outputDir</b> - String path to output (work) directory<DT><B>Returns: </B>a JspMangler instance</DL></DD></DL><HR><A NAME= "getModificationChecker(File, File)"><H3>getModificationChecker</H3></A><PRE>public ModificationChecker <B>getModificationChecker</B>(File source, File target)</PRE><DL><DD>return an instance of ModificationChecker of a type indicated
by this toolkit's <i>name</i>, that compares the relative
modification dates of <i>source</i> and <i>target</i>.  This 
method will pool and reuse instances associated with the same
source/target pair.<DD><DL><DT><B>Parameters:</B><DD><b>source</b> - File to compare modification date of<DD><b>target</b> - File to compare <i>source</i> to<DT><B>Returns: </B>an instance of ModificationChecker</DL></DD></DL><HR><A NAME= "getName()"><H3>getName</H3></A><PRE>public String <B>getName</B>()</PRE><DL><DD>gets the <i>name</i> of this toolkit instance.</DL><HR><A NAME= "getProperty(java.lang.String)"><H3>getProperty</H3></A><PRE>public static String <B>getProperty</B>(String propertyName)</PRE><DL><DD>retrieves the named configuration property.  Looks first inside
the System.getProperty() command for the property. If not found,
look inside the user-specified JASPER_TOOLKIT_RESOURCE property
file.  Finally, if still not found, look inside the resource file:
"org/apache/jasper34/resources/Toolkit.properties".<DD><DL><DT><B>Parameters:</B><DD><b>propertyName</b> - name of property to look for.<DT><B>Returns: </B>found property value or null if not found.</DL></DD></DL><HR><A NAME= "setName(java.lang.String)"><H3>setName</H3></A><PRE>public void <B>setName</B>(String name)</PRE><DL><DD>sets the <i>name</i> of this toolkit instance.</DL><P><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0"><TR BGCOLOR="#CCCCFF" ID="TableHeadingColor"><TD><FONT SIZE= "+0"><B>Association Links</B></FONT></TD></TR></TABLE><BR>to <B>Class </B>java.lang.String<DL><DD>name of configuration property to set to specify a 
different default JasperToolkit implementation to return
from the createToolkit() method with a null toolkit
name.  Example:
<pre>
org.apache.jasper.toolkit.toolkit.default = \
com.foo.MyJasperToolkit
</pre>
The default value is this class.</DL><P>to <B>Class </B>java.util.Hashtable<DL><DD>storage for previously created Toolkits</DL><P>to <B>Class </B>java.lang.String<DL><DD>name of property to set to override which resource file
to be read in by Jasper for default configuration data.
The path should be expressed as a "/" (forward slash)-delimited
path to the resource file reachable from an entry within the
classpath.  Example:
<pre>
org.apache.jasper.resources.toolkit_properties = \
com/foo/resources/MyJSPConfig.properties
</pre>
Prior to this, DefaultToolkit will <b>always</b> read in the default
org/apache/jasper34/resources/Toolkit.properties resource.</DL><P>to <B>Class </B>java.lang.String<DL><DD>deployer-specified resource file to read in after reading
in the default org.apache.jasper.resources.Toolkit.properties
resource.</DL><P>to <B>Class </B>java.util.Properties<DL><DD>stores loaded configuration properties from the resource
files.</DL><P>to <B>Class </B>java.util.Hashtable<DL><DD>store previously created JspFactorys</DL><P>to <B>Class </B>java.util.Hashtable<DL><DD>store previously created JspPageHandlers</DL><P>to <B>Class </B>java.util.Hashtable<DL><DD>store previously created JspRequestHandlers</DL><P>to <B>Class </B>java.util.Hashtable<DL><DD>store previously created JspCompilers</DL><P>to <B>Class </B>java.util.Hashtable<DL><DD>store previously created JspManglers</DL><P>to <B>Class </B>java.util.Hashtable<DL><DD>store previously created ModificationCheckers</DL><P>to <B>Class </B>java.lang.String<DL><DD>name of this toolkit implementation</DL><HR><!-- ========== START OF NAVBAR ========== --><TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0"><TR><TD COLSPAN=2 BGCOLOR="#EEEEFF" ID="NavBarCell1"><TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3"><TR ALIGN="center" VALIGN="top"><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../overview-summary.html"><FONT ID="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#FFFFFF" ID="NavBarCell1Rev"> &nbsp;<FONT ID="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "class-use/JasperToolkit.html"><FONT ID="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD><TD BGCOLOR="#EEEEFF" ID="NavBarCell1"><A HREF= "../../../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD></TR></TABLE><TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM></TD></EM></TD></TR><TR><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">&nbsp;PREV CLASS&nbsp;&nbsp;NEXT CLASS</FONT></TD><TD BGCOLOR="white" ID="NavBarCell2"><FONT SIZE="-2">  <A HREF= "../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;&nbsp;<A HREF= "JasperToolkit.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD></TR><TR><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">SUMMARY:&nbsp;INNER&nbsp;|&nbsp;<A HREF= "#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_summary">METHOD</A></FONT></TD><TD VALIGN="top" ID="NavBarCell3"><FONT SIZE="-2">DETAIL:&nbsp;<A HREF= "#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF= "#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF= "#method_detail">METHOD</A></FONT></TD></TR></TABLE><!-- ========== END OF NAVBAR ========== --><HR></BODY></HTML>